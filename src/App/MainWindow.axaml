<?xml version="1.0" encoding="utf-8"?>
<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:Diffracta"
        xmlns:gfx="using:Diffracta.Graphics"
        x:Class="Diffracta.MainWindow"
        Width="1000" Height="700" Title="Diffracta (v/0.1)">
  <Window.Styles>
    <Style Selector="TextBox#LogTextBox">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Focusable" Value="False"/>
      <Setter Property="Cursor" Value="Arrow"/>
    </Style>
    
    <!-- Simple Slider Style - just change color to green -->
    <Style Selector="Slider#SaturationSlider">
      <Setter Property="Foreground" Value="#00ff88"/>
    </Style>
    
    <!-- Button styling - light grey background with black text -->
    <Style Selector="Button">
      <Setter Property="Background" Value="#d3d3d3"/>
      <Setter Property="Foreground" Value="Black"/>
      <Setter Property="BorderThickness" Value="1"/>
    </Style>
  </Window.Styles>
  
  <Grid Background="#1e1e1e">
    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>
    
    <Grid.ColumnDefinitions>
        <ColumnDefinition Width="*"/>
        <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    
    <!-- Top toolbar -->
    <StackPanel Orientation="Horizontal" Spacing="8" Grid.Row="0" Grid.ColumnSpan="2" Margin="8" Background="#1e1e1e">
      <Button x:Name="PerformanceButton" Content="Performance" Margin="8,0,0,0" />
    </StackPanel>
    
    <!-- Top Left: Left Panel (Controls) with Tabs -->
    <Grid Grid.Row="1" Grid.Column="0" x:Name="ControlsPanel" Background="#2d2d2d">
        <TabControl Background="#2d2d2d" Foreground="White">
            <TabItem Header="Controls" Background="#2d2d2d" FontSize="14" Foreground="White">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>
                    
                    <StackPanel Orientation="Vertical" Spacing="8" Margin="8,4" Grid.Row="0">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <TextBlock Text="Shader:" Foreground="White" VerticalAlignment="Center"/>
                            <ComboBox x:Name="ShaderPicker" Width="200"/>
                        </StackPanel>
                        <TextBlock x:Name="LeftPanelStatusText" Text="Ready" Foreground="#888888" FontSize="12" VerticalAlignment="Center"/>
                    </StackPanel>
                    
                    <ScrollViewer Grid.Row="1" Margin="8,0,8,8">
                        <StackPanel Spacing="12">
                            <Button x:Name="LoadShaderButton" Content="Load Shader" Width="200"/>
                            
                            <StackPanel Spacing="4">
                                <TextBlock Text="Saturation" Foreground="White" FontSize="12"/>
                                <Slider x:Name="SaturationSlider" Minimum="0" Maximum="2" Value="1" Width="200" 
                                        Background="#333333" Foreground="White" 
                                        ValueChanged="OnSaturationChanged"/>
                                <TextBlock x:Name="SaturationValue" Text="1.00" Foreground="#888888" FontSize="10" HorizontalAlignment="Center"/>
                            </StackPanel>
                        </StackPanel>
                    </ScrollViewer>
                </Grid>
            </TabItem>
            
            <TabItem Header="Tools" Background="#2d2d2d" FontSize="14" Foreground="White">
              <TextBlock Text="hola" Foreground="White" FontSize="12"/>
            </TabItem>
        </TabControl>
    </Grid>
    
    <!-- Vertical splitter between left and right columns -->
    <GridSplitter Grid.Row="1" Grid.RowSpan="2" Grid.Column="0" Width="3" Background="#555555" HorizontalAlignment="Right" x:Name="VerticalSplitter"/>
    
    <!-- Top Right: Shader Surface -->
    <gfx:ShaderSurface x:Name="Surface" Grid.Row="1" Grid.Column="1" Margin="0" Focusable="True" ClipToBounds="True" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
    
    <!-- Horizontal splitter between top and bottom rows -->
    <GridSplitter Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Height="3" Background="#555555" VerticalAlignment="Bottom" x:Name="HorizontalSplitter"/>
    
    <!-- Bottom Left: Debug Log -->
    <Grid Grid.Row="2" Grid.Column="0" x:Name="LogPanel" Background="#1e1e1e">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="8,4" Grid.Row="0">
            <TextBlock Text="Debug Log" Foreground="White" VerticalAlignment="Center"/>
            <Button x:Name="ClearLogButton" Content="Clear" Width="60"/>
            <Button x:Name="CopyLogButton" Content="Copy" Width="60"/>
        </StackPanel>
        
        <ScrollViewer Grid.Row="1" Margin="8,0,8,8" x:Name="LogScrollViewer">
                <TextBlock x:Name="LogTextBox" 
                           Background="Transparent" 
                           Foreground="White" 
                           TextWrapping="Wrap"
                           FontFamily="Consolas"
                           FontSize="12"/>
            </ScrollViewer>
    </Grid>
    
    <!-- Vertical splitter between bottom left and bottom right -->
    <GridSplitter Grid.Row="2" Grid.Column="0" Width="3" Background="#555555" HorizontalAlignment="Right" x:Name="BottomVerticalSplitter"/>
    
    <!-- Bottom Right: Tabbed Panel -->
    <Grid Grid.Row="2" Grid.Column="1" x:Name="BottomRightPanel" Background="#2d2d2d">
        <TabControl Background="#2d2d2d" Foreground="White">
            <TabItem Header="Info" Background="#2d2d2d" FontSize="14" Foreground="White">
                <ScrollViewer Margin="8">
                    <StackPanel Spacing="8">
                        <TextBlock Text="Shader Information" Foreground="White" FontSize="14"/>
                        <TextBlock x:Name="ShaderInfoText" Text="No shader loaded" Foreground="#cccccc" FontSize="14" TextWrapping="Wrap"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <TabItem Header="Settings" Background="#2d2d2d" FontSize="14" Foreground="White">
                <TextBlock Text="x" Foreground="White" FontSize="14"/>

            </TabItem>
                <TextBlock Text="x" Foreground="White" FontSize="14"/>
            <TabItem Header="Help" Background="#2d2d2d" FontSize="14" Foreground="White">
                
            </TabItem>
        </TabControl>
    </Grid>
  </Grid>
</Window>
