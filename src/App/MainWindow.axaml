<?xml version="1.0" encoding="utf-8"?>
<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:AvaloniaVideoSynth"
        xmlns:gfx="using:AvaloniaVideoSynth.Graphics"
        x:Class="AvaloniaVideoSynth.MainWindow"
        Width="1000" Height="700" Title="Avalonia Video Synth (GLSL)">
  <Window.Styles>
    <Style Selector="TextBox#LogTextBox">
      <Setter Property="Background" Value="Transparent"/>
      <Setter Property="Foreground" Value="White"/>
      <Setter Property="BorderThickness" Value="0"/>
      <Setter Property="Focusable" Value="False"/>
      <Setter Property="Cursor" Value="Arrow"/>
    </Style>
  </Window.Styles>
  
  <DockPanel>
    <StackPanel Orientation="Horizontal" Spacing="8" DockPanel.Dock="Top" Margin="8">
      <TextBlock Text="Shader:" VerticalAlignment="Center"/>
      <ComboBox x:Name="ShaderPicker" Width="320"/>
      <Button x:Name="ReloadButton" Content="Reload" />
      <TextBlock x:Name="StatusText" Margin="12,0,0,0" VerticalAlignment="Center"/>
      <Button x:Name="ToggleLogButton" Content="Show Log" Margin="12,0,0,0" />
    </StackPanel>
    
    <Grid DockPanel.Dock="Bottom" x:Name="LogPanel" Height="300" Background="#1e1e1e" IsVisible="False">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        <StackPanel Orientation="Horizontal" Spacing="8" Margin="8,4" Grid.Row="0">
            <TextBlock Text="Debug Log" Foreground="White" VerticalAlignment="Center"/>
            <Button x:Name="ClearLogButton" Content="Clear" Width="60" Background="#333333" Foreground="White" BorderThickness="0"/>
            <Button x:Name="CopyLogButton" Content="Copy" Width="60" Background="#333333" Foreground="White" BorderThickness="0"/>
        </StackPanel>
        
        <ScrollViewer Grid.Row="1" Margin="8,0,8,8">
                <TextBlock x:Name="LogTextBox" 
                           Background="Transparent" 
                           Foreground="White" 
                           TextWrapping="Wrap"
                           FontFamily="Consolas"
                           FontSize="12"/>
            </ScrollViewer>
    </Grid>

    <gfx:ShaderSurface x:Name="Surface" Margin="0" Focusable="True"/>
  </DockPanel>
</Window>
